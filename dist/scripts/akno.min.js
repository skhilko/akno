!function(a,b,c){"use strict";function d(a,b){this._handlers=[],this.options=i(b,this.defaults),this.element=a,this._render(),this.closeButton=a.querySelector(".akno-action-close"),this._createOverlay(),this._on("click",this.closeButton,this.close),this._on("keydown",this.dialog,this._escKeyHandler),this._on(o,this.dialog,this._openHandler),n++}function e(a){for(var b,c,d=a.querySelectorAll("input,select,button,textarea,object,a"),e=0,g=d.length;g>e;e++){var h=d[e],i=h.tabIndex>=0;if(f(h)){var j=h.nodeName.toLowerCase();if(!c&&"a"===j&&i){c=h;continue}if("a"!==j&&!h.disabled){if(h.autofocus){b=h;break}if(!c&&i){c=h;continue}}}}(b||c||a).focus()}function f(b){return"hidden"!==a.getComputedStyle(b).visibility?b.offsetWidth>0&&b.offsetHeight>0:void 0}function g(a,b){if(a.classList)return a.classList.add(b),void 0;var c=" ";a.className&&(c=(" "+a.className+" ").replace(l," ")),c.indexOf(" "+b+" ")<0&&(c+=b+" "),a.className=c.trim()}function h(a,b){if(a.classList)return a.classList.remove(b),void 0;var c=" ";a.className&&(c=(" "+a.className+" ").replace(l," ")),c.indexOf(" "+b+" ")>=0&&(c=c.replace(" "+b+" "," ")),a.className=b?c.trim():""}function i(a,b){var c={};for(var d in b)c[d]=a&&a[d]||b[d];return c}function j(){var a,d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(b.body.style[a]!==c)return d[a]}d.prototype.open=function(){g(this.dialog,"akno-state-visible"),o||this._openHandler()},d.prototype.close=function(){this._lastActive&&(this._lastActive.focus(),this._lastActive!==b.activeElement&&b.activeElement.blur(),this._lastActive=null),h(this.dialog,"akno-state-visible"),this._trigger("akno-close")},d.prototype.destroy=function(){this._originalPosition.parent.insertBefore(this.element,this._originalPosition.next),this._removeEventHandlers(),this._destroyOverlay(),b.body.removeChild(this.dialog),n--},d.prototype._render=function(){var a=this.element;this._originalPosition={parent:a.parentNode,next:a.nextElementSibling};var c=b.createElement("div");c.className="akno-content",c.appendChild(a);var d=b.createElement("div");d.className="akno-modal "+m[this.options.effect],d.tabIndex=-1,d.appendChild(c),this.dialog=b.body.insertBefore(d,b.body.firstChild)},d.prototype._on=function(a,b,c){a&&b&&(c=c.bind(this),this._handlers.push({event:a,element:b,handler:c}),b.addEventListener(a,c,!1))},d.prototype._removeEventHandlers=function(){if(this._handlers){for(var a=0,b=this._handlers.length;b>a;a++){var c=this._handlers[a].event,d=this._handlers[a].element,e=this._handlers[a].handler;d.removeEventListener(c,e)}this._handlers=null}},d.prototype._trigger=function(a){var c=b.createEvent("CustomEvent");c.initEvent(a,!0,!0),this.element.dispatchEvent(c)},d.prototype._createOverlay=function(){var a;n?a=b.getElementById("akno_overlay"):(a=b.createElement("div"),a.id="akno_overlay",a.className="akno-overlay",b.body.appendChild(a)),this.overlay=a},d.prototype._destroyOverlay=function(){1===n&&b.body.removeChild(this.overlay)},d.prototype._openHandler=function(){this._lastActive=b.activeElement,e(this.dialog),this._trigger("akno-open")},d.prototype._escKeyHandler=function(a){return a.keyCode===k?(a.preventDefault(),this.close(),void 0):void 0},d.prototype.defaults={effect:"scale-up"};var k=27,l=/[\t\r\n\f]/g,m={"scale-up":"akno-fx-scale-up","slide-in-right":"akno-fx-slide-in-right","slide-in-bottom":"akno-fx-slide-in-bottom",newspaper:"akno-fx-newspaper",fall:"akno-fx-fall","side-fall":"akno-fx-side-fall","sticky-top":"akno-fx-sticky-top","flip-hor":"akno-fx-flip-hor","flip-vert":"akno-fx-flip-vert",sign:"akno-fx-sign","scale-down":"akno-fx-scale-down","just-me":"akno-fx-just-me",split:"akno-fx-split","rotate-bottom":"akno-fx-rotate-bottom","rotate-left":"akno-fx-rotate-left"},n=0,o=j();a.Akno=d}(window,window.document);